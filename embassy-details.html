<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Information - SIV Resources</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="embassy-details.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Mobile menu toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Side Navigation -->
    <nav class="side-nav" id="sideNav">
        <div class="nav-header">
            <h2>SIV Resources</h2>
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="index.html" class="nav-link">
                    <span class="nav-icon">üìä</span>
                    SIV Issuances
                </a>
            </li>
            <li class="nav-item active">
                <a href="embassy-details.html" class="nav-link">
                    <span class="nav-icon">üèõÔ∏è</span>
                    Location Details
                </a>
            </li>
        </ul>
    </nav>

    <!-- Minimal Sticky Disclaimer -->
    <div class="ai-disclaimer">
        <div class="disclaimer-content">
            ‚ö†Ô∏è <strong>AI-Generated Content:</strong> Information is AI-generated and unverified. Confirm with official sources before making decisions.
        </div>
    </div>

    <!-- Sticky Action Buttons -->
    <div class="sticky-actions">
        <button class="sticky-btn" id="compareBtn">
            <span>‚öñÔ∏è</span>
            Compare
        </button>
        <button class="sticky-btn" id="translateBtn">
            <span>üåê</span>
            ÿØÿ±€å
        </button>
        <div class="api-toggle-container" title="Toggle between OpenAI API calls and fallback information">
            <label class="api-toggle-label" for="apiToggle">
                <span class="toggle-text">API</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="apiToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
            </label>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Simple Professional Header -->
            <header class="page-header">
                <h1>Location Information & Resources</h1>
                <p class="page-subtitle">Find detailed information for SIV applicants by location</p>
            </header>

            <!-- Prominent Embassy Search -->
            <section class="embassy-search-section">
                <div class="search-container">
                    <div class="search-box">
                        <div class="search-icon">üîç</div>
                        <input 
                            type="text" 
                            class="search-input" 
                            placeholder="Search location by name or country..."
                            id="embassySearch"
                        >
                        <div class="search-results" id="searchResults">
                            <!-- Search results will populate here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Embassy Details (Hidden Initially) -->
            <section class="embassy-details" id="embassyDetails">
                
                <!-- Embassy Header -->
                <div class="embassy-header" id="embassyHeader">
                    <div class="embassy-title">
                        <h1 id="embassyName">Location Name</h1>
                        <p class="embassy-location" id="embassyLocation">City, Country</p>
                    </div>
                    <div class="embassy-stats">
                        <div class="loading" id="embassyLoading">
                            <div class="spinner"></div>
                            Loading location information...
                        </div>
                    </div>
                </div>

                <!-- Info Cards Grid -->
                <div class="info-grid" id="infoGrid">
                    
                    <!-- SIV Data Card -->
                    <div class="info-card" data-type="data">
                        <div class="info-card-header">
                            <h2>SIV Processing Data</h2>
                            <div class="card-icon">üìä</div>
                        </div>
                        <div class="info-card-content">
                            <p>View current year processing volumes and historical trends for this location.</p>
                        </div>
                    </div>

                    <!-- Embassy Links Card -->
                    <div class="info-card" data-type="links">
                        <div class="info-card-header">
                            <h2>Official Resources</h2>
                            <div class="card-icon">üîó</div>
                        </div>
                        <div class="info-card-content">
                            <p>Direct links to official websites, visa services, and contact information.</p>
                        </div>
                    </div>

                    <!-- Visa Requirements Card -->
                    <div class="info-card" data-type="visa">
                        <div class="info-card-header">
                            <h2>Visa Requirements</h2>
                            <div class="card-icon">üìã</div>
                        </div>
                        <div class="info-card-content">
                            <p>Entry requirements, visa types, fees, and processing information for Afghan nationals.</p>
                        </div>
                    </div>

                    <!-- Medical Exams Card -->
                    <div class="info-card" data-type="medical">
                        <div class="info-card-header">
                            <h2>Medical Examinations</h2>
                            <div class="card-icon">üè•</div>
                        </div>
                        <div class="info-card-content">
                            <p>Approved medical facilities, examination requirements, and booking information.</p>
                        </div>
                    </div>

                    <!-- Travel Costs Card -->
                    <div class="info-card" data-type="travel">
                        <div class="info-card-header">
                            <h2>Travel Costs</h2>
                            <div class="card-icon">‚úàÔ∏è</div>
                        </div>
                        <div class="info-card-content">
                            <p>Flight costs from Afghanistan, transit requirements, and travel planning information.</p>
                        </div>
                    </div>

                    <!-- Living Expenses Card -->
                    <div class="info-card" data-type="living">
                        <div class="info-card-header">
                            <h2>Living Expenses</h2>
                            <div class="card-icon">üè†</div>
                        </div>
                        <div class="info-card-content">
                            <p>Accommodation costs, daily expenses, and budgeting information for this city.</p>
                        </div>
                    </div>

                    <!-- Support Organizations Card -->
                    <div class="info-card" data-type="support">
                        <div class="info-card-header">
                            <h2>Support Organizations</h2>
                            <div class="card-icon">ü§ù</div>
                        </div>
                        <div class="info-card-content">
                            <p>NGOs and organizations providing assistance with SIV applications and settlement.</p>
                        </div>
                    </div>

                    <!-- Document Checklists Card -->
                    <div class="info-card" data-type="documents">
                        <div class="info-card-header">
                            <h2>Document Checklists</h2>
                            <div class="card-icon">üìÑ</div>
                        </div>
                        <div class="info-card-content">
                            <p>Required documents for host country entry and SIV interview preparation.</p>
                        </div>
                    </div>

                </div>
            </section>
        </div>
    </main>

    <!-- Detailed Info Modal -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Information</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic content will load here -->
            </div>
        </div>
    </div>

    <!-- Comparison Panel -->
    <div class="comparison-panel" id="comparisonPanel">
        <div class="comparison-modal">
            <div class="comparison-header">
                <h2>Compare Locations</h2>
                <p class="comparison-subtitle">Select up to 5 locations to compare side by side</p>
                <button class="close-comparison-btn" onclick="embassyApp.closeComparisonPanel()">&times;</button>
            </div>
            <div class="comparison-controls">
                <div class="selected-embassies" id="selectedEmbassies">
                    <!-- Selected embassy chips will appear here -->
                </div>
                <button class="add-embassy-btn" id="addEmbassyBtn">
                    <span>+</span> Add Location
                </button>
            </div>
            <div class="comparison-content" id="comparisonContent">
                <!-- Comparison table will load here -->
            </div>
        </div>
    </div>

    <!-- Embassy Selection Modal for Comparison -->
    <div class="modal" id="embassySelectionModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>Select Location to Compare</h2>
                <button class="close-btn" onclick="embassyApp.closeEmbassySelection()">&times;</button>
            </div>
            <div class="modal-body">
                <input type="text" id="comparisonSearch" class="comparison-search" placeholder="Search locations...">
                <div class="embassy-selection-list" id="embassySelectionList">
                    <!-- Location list will populate here -->
                </div>
            </div>
        </div>
    </div>

    <script src="embassy-details.js"></script>
    <script src="api-config.js"></script>
</body>
</html>